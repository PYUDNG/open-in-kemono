// ==UserScript==
// @name               Open in Kemono
// @name:en            Open in Kemono
// @name:zh            在Kemono中打開
// @name:zh-CN         在Kemono中打开
// @name:zh-TW         在Kemono中打開
// @namespace          https://greasyfork.org/zh-CN/users/667968-pyudng
// @version            1.11.1
// @author             PY-DNG
// @description        Open corresponding kemono page from multiple services
// @description:en     Open corresponding kemono page from multiple services
// @description:zh     从多个资源平台网站打开Kemono中的对应页面
// @description:zh-CN  从多个资源平台网站打开Kemono中的对应页面
// @description:zh-TW  從多個資源平臺網站打開Kemono中的對應頁面
// @license            GPL-3.0-or-later
// @icon               https://kemono.cr/assets/favicon-CPB6l7kH.ico
// @match              http*://*.pixiv.net/*
// @match              http*://*.fantia.jp/*
// @match              http*://*.subscribestar.adult/*
// @match              http*://*.subscribestar.com/*
// @match              http*://*.dlsite.com/*
// @match              http*://*.fanbox.cc/*
// @match              http*://www.patreon.com/*
// @match              http*://*.boosty.to/*
// @match              http*://*.gumroad.com/*
// @require            https://cdn.jsdelivr.net/npm/vue@3.5.26/dist/vue.global.prod.js
// @grant              GM_addValueChangeListener
// @grant              GM_deleteValue
// @grant              GM_getValue
// @grant              GM_info
// @grant              GM_listValues
// @grant              GM_openInTab
// @grant              GM_registerMenuCommand
// @grant              GM_setValue
// @grant              GM_xmlhttpRequest
// @run-at             document-start
// ==/UserScript==

var zs=Object.defineProperty;var eo=(I,le,he)=>le in I?zs(I,le,{enumerable:!0,configurable:!0,writable:!0,value:he}):I[le]=he;var z=(I,le,he)=>eo(I,typeof le!="symbol"?le+"":le,he);(async function(I){"use strict";function le(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const he=le(I),Jt=new Set;(async e=>{Jt.has(e)||(Jt.add(e),(t=>{Array.isArray(window._oikStyles)?window._oikStyles.push(t):window._oikStyles=[t]})(e))})(" .oik-jump-button[data-v-f9e475ed]{border:2px solid var(--color-border);background-color:var(--color-bg);color:var(--color-text);padding:.25em;cursor:pointer;font-size:14px}.oik-root{--color-text: #1a1a1a;--color-bg: #ffffff;--color-primary: #2563eb;--color-secondary: #f3f4f6;--color-border: #e5e7eb}.oik-root.oik-dark{--color-text: #f9fafb;--color-bg: #1f1f1f;--color-primary: #60a5fa;--color-secondary: #1f2937;--color-border: #374151}.oik-root .oik-disabled{filter:grayscale(1) brightness(.8);cursor:not-allowed} ");const Er=Object.assign(Object.create(null),window.console),yr=window.fetch,Lr=EventTarget.prototype.addEventListener;var vr=typeof GM_addValueChangeListener<"u"?GM_addValueChangeListener:void 0,Ir=typeof GM_deleteValue<"u"?GM_deleteValue:void 0,kr=typeof GM_getValue<"u"?GM_getValue:void 0,Tr=typeof GM_info<"u"?GM_info:void 0,Nr=typeof GM_listValues<"u"?GM_listValues:void 0,Sr=typeof GM_openInTab<"u"?GM_openInTab:void 0,qt=typeof GM_registerMenuCommand<"u"?GM_registerMenuCommand:void 0,Or=typeof GM_setValue<"u"?GM_setValue:void 0,wr=typeof GM_xmlhttpRequest<"u"?GM_xmlhttpRequest:void 0;const Cr={switch:e=>!!e,url:e=>location.href===e,path:e=>location.pathname===e,host:e=>location.host===e,regurl:e=>!!location.href.match(e),regpath:e=>!!location.pathname.match(e),reghost:e=>!!location.host.match(e),starturl:e=>location.href.startsWith(e),startpath:e=>location.pathname.startsWith(e),endhost:e=>location.host.endsWith(e),func:e=>!!e()};function Ue(e,t="or"){if(Array.isArray(e))return t==="and"?e.every(a=>Ue(a)):e.some(a=>Ue(a));const n=Cr[e.type](e.value);return!!e.invert!==n}const me=class me{constructor(){z(this,"level",me.Level.Info)}log(t,n,r="log",...a){if(me.Level[t]<this.level)return!1;return l()&&(a=[`%c[${Tr.script.name}] [${t}]
%c${a[0]}`,`color: ${me.PrefixColor};`,`color: ${me.LevelColor[t]};`]),Er[r].apply(null,a),!0;function l(i){return n==="string"}}simple(t,n){return this.log(t,"string","log",n)}};z(me,"Level",{Debug:0,Detail:1,Info:2,Warning:3,Error:4,Important:5}),z(me,"LevelColor",{Debug:"#94a3b8",Detail:"#10b981",Info:"inherit",Warning:"#f59e0b",Error:"#ef4444",Important:"#a855f7"}),z(me,"PrefixColor","#6366f1");let xe=me;const ce=new xe;ce.level=xe.Level.Info;function Pr(e){const{promise:t,reject:n,resolve:r}=Promise.withResolvers();return wr({...e,onload(a){r(a.response),e.onload?.call(this,a)},onerror(a){n(a),e.onerror?.call(this,a)},onabort(){n(),e.onabort?.()}}),t}async function We(e){const t=await Pr(e);return JSON.parse(t)}function Rr(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(a){a(n)}),(r=e.get("*"))&&r.slice().map(function(a){a(t,n)})}}}function Ar(e,t){return t=t??location.href,new URLSearchParams(new URL(t).search).get(e)}class Dr{constructor(){z(this,"emitter");z(this,"originalPushState");z(this,"originalReplaceState");z(this,"isInitialized",!1);this.emitter=Rr(),this.originalPushState=history.pushState,this.originalReplaceState=history.replaceState}init(){if(!this.isInitialized)try{this.hookPushState(),this.hookReplaceState(),this.listenHashChange(),this.listenPopstate(),this.isInitialized=!0}catch(t){const n=t instanceof Error?t:new Error(`初始化失败：${String(t)}`);this.emitter.emit("error",n),console.error("[URLChangeMonitor] 初始化失败：",n)}}destroy(){this.isInitialized&&(history.pushState=this.originalPushState,history.replaceState=this.originalReplaceState,window.removeEventListener("hashchange",this.handleHashChange),window.removeEventListener("popstate",this.handlePopstate),this.emitter.all.clear(),this.isInitialized=!1,console.log("[URLChangeMonitor] 销毁成功，已停止监听URL变更"))}onUrlChange(t){return this.emitter.on("urlChange",t),()=>this.emitter.off("urlChange",t)}onError(t){return this.emitter.on("error",t),()=>this.emitter.off("error",t)}hookPushState(){const t=this;history.pushState=function(n,r,a){const s=window.location.href;t.originalPushState.apply(this,[n,r,a]),t.triggerUrlChange("pushState",s,a?.toString()||s,n)}}hookReplaceState(){const t=this;history.replaceState=function(n,r,a){const s=window.location.href;t.originalReplaceState.apply(this,[n,r,a]),t.triggerUrlChange("replaceState",s,a?.toString()||s,n)}}listenHashChange(){this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange)}handleHashChange(t){const r=t.newURL===t.oldURL?"replaceHash":"pushHash";this.triggerUrlChange(r,t.oldURL,t.newURL,null)}listenPopstate(){this.handlePopstate=this.handlePopstate.bind(this),window.addEventListener("popstate",this.handlePopstate)}handlePopstate(t){const n=window.location.href;this.triggerUrlChange("popstate",n,window.location.href,t.state)}triggerUrlChange(t,n,r,a){const s=new URL(r,window.location.origin),l={action:t,oldUrl:n,newUrl:s.href,hash:s.hash,pathname:s.pathname,search:s.search,state:a};this.emitter.emit("urlChange",l)}}function at(e,t,n,r){let a;if(e instanceof Node)a={selectors:Array.isArray(t)?t:[t||""],root:e,attributes:n||!1,callback:r||null};else if(typeof e=="object"&&!(e instanceof Node)){const i=e;a={selectors:Array.isArray(i.selector)?i.selector:[i.selector||""],root:i.root||document,attributes:i.attributes||!1,callback:i.callback||null}}else{const i=e;return new Promise(u=>{at(document,i,!1,u)})}if((()=>{const i=Qt(a.root,a.selectors);return i.length>0?(i.forEach(u=>{a.callback?.(u)}),!0):!1})()){const i=new MutationObserver(()=>{});return i.disconnect(),i}const l=new MutationObserver(i=>{const u=[];i.forEach(b=>{b.type==="childList"?u.push(...b.addedNodes):b.type==="attributes"&&b.target&&u.push(b.target)});const d=new Set;u.forEach(b=>{b instanceof HTMLElement&&Mr(b,a.selectors)&&d.add(b),Qt(b,a.selectors).forEach(y=>d.add(y))}),d.forEach(b=>{a.callback?.(b),a.callback||l.disconnect()})});return l.observe(a.root,{childList:!0,subtree:!0,attributes:a.attributes}),l}function Mr(e,t){return t.some(n=>e.matches(n))}function Qt(e,t){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?t.flatMap(n=>Array.from(e.querySelectorAll(n))):[]}const de=class de{constructor(t,n){z(this,"storage");z(this,"defaultValues");this.storage=t,this.defaultValues=n}get(t,n=de.EmptyValue){const r=de.EmptyValue;n=n!==de.EmptyValue?n:Object.hasOwn(this.defaultValues,t)?this.defaultValues[t]:r;const a=this.storage.GM_getValue(t,n);return a===r?void 0:a}set(t,n=de.EmptyValue){n===de.EmptyValue?Object.hasOwn(this.defaultValues,t)&&this.storage.GM_setValue(t,this.defaultValues[t]):this.storage.GM_setValue(t,n)}has(t){const n=de.EmptyValue;return this.storage.GM_getValue(t,n)!==n}list(t=!1){if(t)return this.storage.GM_listValues();{const n=new Set,r=this.storage.GM_listValues(),a=Object.keys(this.defaultValues);return[...r,...a].forEach(s=>n.add(s)),Array.from(n)}}delete(t){this.storage.GM_deleteValue(t)}watch(t,n){return this.storage.GM_addValueChangeListener(t,n)}};z(de,"EmptyValue",Symbol("Empty Value"));let st=de;class Fr{constructor(){z(this,"styles",I.ref({}))}setStyle(t,n){this.styles.value[t]=n}getStyle(t){return Object.hasOwn(this.styles.value,t)?this.styles.value[t]:null}deleteStyle(t){return Object.hasOwn(this.styles.value,t)?(delete this.styles.value[t],!0):!1}applyTo(t){const n=()=>{const s=Object.values(this.styles.value).map(l=>{const i=new CSSStyleSheet;return i.replaceSync(l),i});t.adoptedStyleSheets=s};n();const r=I.watch(this.styles,n,{deep:!0});return()=>{r.stop(),t.adoptedStyleSheets=[]}}}function $r(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const je=typeof window<"u",pe=(e,t=!1)=>t?Symbol.for(e):Symbol(e),Ur=(e,t,n)=>xr({l:e,k:t,s:n}),xr=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),K=e=>typeof e=="number"&&isFinite(e),Wr=e=>ot(e)==="[object Date]",Le=e=>ot(e)==="[object RegExp]",Ge=e=>A(e)&&Object.keys(e).length===0,X=Object.assign,jr=Object.create,$=(e=null)=>jr(e);let Zt;const Ee=()=>Zt||(Zt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:$());function zt(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function en(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Gr(e){return e=e.replace(/(\w+)\s*=\s*"([^"]*)"/g,(r,a,s)=>`${a}="${en(s)}"`),e=e.replace(/(\w+)\s*=\s*'([^']*)'/g,(r,a,s)=>`${a}='${en(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(e)&&(e=e.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(r=>{e=e.replace(r,"$1javascript&#58;")}),e}const Hr=Object.prototype.hasOwnProperty;function ne(e,t){return Hr.call(e,t)}const H=Array.isArray,x=e=>typeof e=="function",k=e=>typeof e=="string",D=e=>typeof e=="boolean",M=e=>e!==null&&typeof e=="object",Vr=e=>M(e)&&x(e.then)&&x(e.catch),tn=Object.prototype.toString,ot=e=>tn.call(e),A=e=>ot(e)==="[object Object]",Yr=e=>e==null?"":H(e)||A(e)&&e.toString===tn?JSON.stringify(e,null,2):String(e);function lt(e,t=""){return e.reduce((n,r,a)=>a===0?n+r:n+t+r,"")}const He=e=>!M(e)||H(e);function Ve(e,t){if(He(e)||He(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:r,des:a}=n.pop();Object.keys(r).forEach(s=>{s!=="__proto__"&&(M(r[s])&&!M(a[s])&&(a[s]=Array.isArray(r[s])?[]:$()),He(a[s])||He(r[s])?a[s]=r[s]:n.push({src:r[s],des:a[s]}))})}}function Kr(e,t,n){return{line:e,column:t,offset:n}}function ct(e,t,n){return{start:e,end:t}}const F={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},Xr=17;function Ye(e,t,n={}){const{domain:r,messages:a,args:s}=n,l=e,i=new SyntaxError(String(l));return i.code=e,t&&(i.location=t),i.domain=r,i}function Br(e){throw e}const ae=" ",Jr="\r",J=`
`,qr="\u2028",Qr="\u2029";function Zr(e){const t=e;let n=0,r=1,a=1,s=0;const l=E=>t[E]===Jr&&t[E+1]===J,i=E=>t[E]===J,u=E=>t[E]===Qr,d=E=>t[E]===qr,b=E=>l(E)||i(E)||u(E)||d(E),L=()=>n,y=()=>r,w=()=>a,P=()=>s,S=E=>l(E)||u(E)||d(E)?J:t[E],C=()=>S(n),f=()=>S(n+s);function p(){return s=0,b(n)&&(r++,a=0),l(n)&&n++,n++,a++,t[n]}function v(){return l(n+s)&&s++,s++,t[n+s]}function _(){n=0,r=1,a=1,s=0}function T(E=0){s=E}function N(){const E=n+s;for(;E!==n;)p();s=0}return{index:L,line:y,column:w,peekOffset:P,charAt:S,currentChar:C,currentPeek:f,next:p,peek:v,reset:_,resetPeek:T,skipToPeek:N}}const ie=void 0,zr=".",nn="'",ea="tokenizer";function ta(e,t={}){const n=t.location!==!1,r=Zr(e),a=()=>r.index(),s=()=>Kr(r.line(),r.column(),r.index()),l=s(),i=a(),u={currentType:13,offset:i,startLoc:l,endLoc:l,lastType:13,lastOffset:i,lastStartLoc:l,lastEndLoc:l,braceNest:0,inLinked:!1,text:""},d=()=>u,{onError:b}=t;function L(o,c,h,...O){const j=d();if(c.column+=h,c.offset+=h,b){const R=n?ct(j.startLoc,c):null,m=Ye(o,R,{domain:ea,args:O});b(m)}}function y(o,c,h){o.endLoc=s(),o.currentType=c;const O={type:c};return n&&(O.loc=ct(o.startLoc,o.endLoc)),h!=null&&(O.value=h),O}const w=o=>y(o,13);function P(o,c){return o.currentChar()===c?(o.next(),c):(L(F.EXPECTED_TOKEN,s(),0,c),"")}function S(o){let c="";for(;o.currentPeek()===ae||o.currentPeek()===J;)c+=o.currentPeek(),o.peek();return c}function C(o){const c=S(o);return o.skipToPeek(),c}function f(o){if(o===ie)return!1;const c=o.charCodeAt(0);return c>=97&&c<=122||c>=65&&c<=90||c===95}function p(o){if(o===ie)return!1;const c=o.charCodeAt(0);return c>=48&&c<=57}function v(o,c){const{currentType:h}=c;if(h!==2)return!1;S(o);const O=f(o.currentPeek());return o.resetPeek(),O}function _(o,c){const{currentType:h}=c;if(h!==2)return!1;S(o);const O=o.currentPeek()==="-"?o.peek():o.currentPeek(),j=p(O);return o.resetPeek(),j}function T(o,c){const{currentType:h}=c;if(h!==2)return!1;S(o);const O=o.currentPeek()===nn;return o.resetPeek(),O}function N(o,c){const{currentType:h}=c;if(h!==7)return!1;S(o);const O=o.currentPeek()===".";return o.resetPeek(),O}function E(o,c){const{currentType:h}=c;if(h!==8)return!1;S(o);const O=f(o.currentPeek());return o.resetPeek(),O}function W(o,c){const{currentType:h}=c;if(!(h===7||h===11))return!1;S(o);const O=o.currentPeek()===":";return o.resetPeek(),O}function G(o,c){const{currentType:h}=c;if(h!==9)return!1;const O=()=>{const R=o.currentPeek();return R==="{"?f(o.peek()):R==="@"||R==="|"||R===":"||R==="."||R===ae||!R?!1:R===J?(o.peek(),O()):re(o,!1)},j=O();return o.resetPeek(),j}function Z(o){S(o);const c=o.currentPeek()==="|";return o.resetPeek(),c}function re(o,c=!0){const h=(j=!1,R="")=>{const m=o.currentPeek();return m==="{"||m==="@"||!m?j:m==="|"?!(R===ae||R===J):m===ae?(o.peek(),h(!0,ae)):m===J?(o.peek(),h(!0,J)):!0},O=h();return c&&o.resetPeek(),O}function V(o,c){const h=o.currentChar();return h===ie?ie:c(h)?(o.next(),h):null}function Ne(o){const c=o.charCodeAt(0);return c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57||c===95||c===36}function Mt(o){return V(o,Ne)}function Ft(o){const c=o.charCodeAt(0);return c>=97&&c<=122||c>=65&&c<=90||c>=48&&c<=57||c===95||c===36||c===45}function $t(o){return V(o,Ft)}function Ut(o){const c=o.charCodeAt(0);return c>=48&&c<=57}function xt(o){return V(o,Ut)}function _e(o){const c=o.charCodeAt(0);return c>=48&&c<=57||c>=65&&c<=70||c>=97&&c<=102}function ze(o){return V(o,_e)}function et(o){let c="",h="";for(;c=xt(o);)h+=c;return h}function Wt(o){let c="";for(;;){const h=o.currentChar();if(h==="{"||h==="}"||h==="@"||h==="|"||!h)break;if(h===ae||h===J)if(re(o))c+=h,o.next();else{if(Z(o))break;c+=h,o.next()}else c+=h,o.next()}return c}function jt(o){C(o);let c="",h="";for(;c=$t(o);)h+=c;const O=o.currentChar();if(O&&O!=="}"&&O!==ie&&O!==ae&&O!==J&&O!=="　"){const j=nt(o);return L(F.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,h+j),h+j}return o.currentChar()===ie&&L(F.UNTERMINATED_CLOSING_BRACE,s(),0),h}function Gt(o){C(o);let c="";return o.currentChar()==="-"?(o.next(),c+=`-${et(o)}`):c+=et(o),o.currentChar()===ie&&L(F.UNTERMINATED_CLOSING_BRACE,s(),0),c}function br(o){return o!==nn&&o!==J}function Ht(o){C(o),P(o,"'");let c="",h="";for(;c=V(o,br);)c==="\\"?h+=Vt(o):h+=c;const O=o.currentChar();return O===J||O===ie?(L(F.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),O===J&&(o.next(),P(o,"'")),h):(P(o,"'"),h)}function Vt(o){const c=o.currentChar();switch(c){case"\\":case"'":return o.next(),`\\${c}`;case"u":return tt(o,c,4);case"U":return tt(o,c,6);default:return L(F.UNKNOWN_ESCAPE_SEQUENCE,s(),0,c),""}}function tt(o,c,h){P(o,c);let O="";for(let j=0;j<h;j++){const R=ze(o);if(!R){L(F.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${c}${O}${o.currentChar()}`);break}O+=R}return`\\${c}${O}`}function Yt(o){return o!=="{"&&o!=="}"&&o!==ae&&o!==J}function nt(o){C(o);let c="",h="";for(;c=V(o,Yt);)h+=c;return h}function Kt(o){let c="",h="";for(;c=Mt(o);)h+=c;return h}function Xt(o){const c=h=>{const O=o.currentChar();return O==="{"||O==="@"||O==="|"||O==="("||O===")"||!O||O===ae?h:(h+=O,o.next(),c(h))};return c("")}function Fe(o){C(o);const c=P(o,"|");return C(o),c}function Se(o,c){let h=null;switch(o.currentChar()){case"{":return c.braceNest>=1&&L(F.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),o.next(),h=y(c,2,"{"),C(o),c.braceNest++,h;case"}":return c.braceNest>0&&c.currentType===2&&L(F.EMPTY_PLACEHOLDER,s(),0),o.next(),h=y(c,3,"}"),c.braceNest--,c.braceNest>0&&C(o),c.inLinked&&c.braceNest===0&&(c.inLinked=!1),h;case"@":return c.braceNest>0&&L(F.UNTERMINATED_CLOSING_BRACE,s(),0),h=Oe(o,c)||w(c),c.braceNest=0,h;default:{let j=!0,R=!0,m=!0;if(Z(o))return c.braceNest>0&&L(F.UNTERMINATED_CLOSING_BRACE,s(),0),h=y(c,1,Fe(o)),c.braceNest=0,c.inLinked=!1,h;if(c.braceNest>0&&(c.currentType===4||c.currentType===5||c.currentType===6))return L(F.UNTERMINATED_CLOSING_BRACE,s(),0),c.braceNest=0,$e(o,c);if(j=v(o,c))return h=y(c,4,jt(o)),C(o),h;if(R=_(o,c))return h=y(c,5,Gt(o)),C(o),h;if(m=T(o,c))return h=y(c,6,Ht(o)),C(o),h;if(!j&&!R&&!m)return h=y(c,12,nt(o)),L(F.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,h.value),C(o),h;break}}return h}function Oe(o,c){const{currentType:h}=c;let O=null;const j=o.currentChar();switch((h===7||h===8||h===11||h===9)&&(j===J||j===ae)&&L(F.INVALID_LINKED_FORMAT,s(),0),j){case"@":return o.next(),O=y(c,7,"@"),c.inLinked=!0,O;case".":return C(o),o.next(),y(c,8,".");case":":return C(o),o.next(),y(c,9,":");default:return Z(o)?(O=y(c,1,Fe(o)),c.braceNest=0,c.inLinked=!1,O):N(o,c)||W(o,c)?(C(o),Oe(o,c)):E(o,c)?(C(o),y(c,11,Kt(o))):G(o,c)?(C(o),j==="{"?Se(o,c)||O:y(c,10,Xt(o))):(h===7&&L(F.INVALID_LINKED_FORMAT,s(),0),c.braceNest=0,c.inLinked=!1,$e(o,c))}}function $e(o,c){let h={type:13};if(c.braceNest>0)return Se(o,c)||w(c);if(c.inLinked)return Oe(o,c)||w(c);switch(o.currentChar()){case"{":return Se(o,c)||w(c);case"}":return L(F.UNBALANCED_CLOSING_BRACE,s(),0),o.next(),y(c,3,"}");case"@":return Oe(o,c)||w(c);default:{if(Z(o))return h=y(c,1,Fe(o)),c.braceNest=0,c.inLinked=!1,h;if(re(o))return y(c,0,Wt(o));break}}return h}function Bt(){const{currentType:o,offset:c,startLoc:h,endLoc:O}=u;return u.lastType=o,u.lastOffset=c,u.lastStartLoc=h,u.lastEndLoc=O,u.offset=a(),u.startLoc=s(),r.currentChar()===ie?y(u,13):$e(r,u)}return{nextToken:Bt,currentOffset:a,currentPosition:s,context:d}}const na="parser",ra=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function aa(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function sa(e={}){const t=e.location!==!1,{onError:n}=e;function r(f,p,v,_,...T){const N=f.currentPosition();if(N.offset+=_,N.column+=_,n){const E=t?ct(v,N):null,W=Ye(p,E,{domain:na,args:T});n(W)}}function a(f,p,v){const _={type:f};return t&&(_.start=p,_.end=p,_.loc={start:v,end:v}),_}function s(f,p,v,_){t&&(f.end=p,f.loc&&(f.loc.end=v))}function l(f,p){const v=f.context(),_=a(3,v.offset,v.startLoc);return _.value=p,s(_,f.currentOffset(),f.currentPosition()),_}function i(f,p){const v=f.context(),{lastOffset:_,lastStartLoc:T}=v,N=a(5,_,T);return N.index=parseInt(p,10),f.nextToken(),s(N,f.currentOffset(),f.currentPosition()),N}function u(f,p){const v=f.context(),{lastOffset:_,lastStartLoc:T}=v,N=a(4,_,T);return N.key=p,f.nextToken(),s(N,f.currentOffset(),f.currentPosition()),N}function d(f,p){const v=f.context(),{lastOffset:_,lastStartLoc:T}=v,N=a(9,_,T);return N.value=p.replace(ra,aa),f.nextToken(),s(N,f.currentOffset(),f.currentPosition()),N}function b(f){const p=f.nextToken(),v=f.context(),{lastOffset:_,lastStartLoc:T}=v,N=a(8,_,T);return p.type!==11?(r(f,F.UNEXPECTED_EMPTY_LINKED_MODIFIER,v.lastStartLoc,0),N.value="",s(N,_,T),{nextConsumeToken:p,node:N}):(p.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,se(p)),N.value=p.value||"",s(N,f.currentOffset(),f.currentPosition()),{node:N})}function L(f,p){const v=f.context(),_=a(7,v.offset,v.startLoc);return _.value=p,s(_,f.currentOffset(),f.currentPosition()),_}function y(f){const p=f.context(),v=a(6,p.offset,p.startLoc);let _=f.nextToken();if(_.type===8){const T=b(f);v.modifier=T.node,_=T.nextConsumeToken||f.nextToken()}switch(_.type!==9&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(_)),_=f.nextToken(),_.type===2&&(_=f.nextToken()),_.type){case 10:_.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(_)),v.key=L(f,_.value||"");break;case 4:_.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(_)),v.key=u(f,_.value||"");break;case 5:_.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(_)),v.key=i(f,_.value||"");break;case 6:_.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(_)),v.key=d(f,_.value||"");break;default:{r(f,F.UNEXPECTED_EMPTY_LINKED_KEY,p.lastStartLoc,0);const T=f.context(),N=a(7,T.offset,T.startLoc);return N.value="",s(N,T.offset,T.startLoc),v.key=N,s(v,T.offset,T.startLoc),{nextConsumeToken:_,node:v}}}return s(v,f.currentOffset(),f.currentPosition()),{node:v}}function w(f){const p=f.context(),v=p.currentType===1?f.currentOffset():p.offset,_=p.currentType===1?p.endLoc:p.startLoc,T=a(2,v,_);T.items=[];let N=null;do{const G=N||f.nextToken();switch(N=null,G.type){case 0:G.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(G)),T.items.push(l(f,G.value||""));break;case 5:G.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(G)),T.items.push(i(f,G.value||""));break;case 4:G.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(G)),T.items.push(u(f,G.value||""));break;case 6:G.value==null&&r(f,F.UNEXPECTED_LEXICAL_ANALYSIS,p.lastStartLoc,0,se(G)),T.items.push(d(f,G.value||""));break;case 7:{const Z=y(f);T.items.push(Z.node),N=Z.nextConsumeToken||null;break}}}while(p.currentType!==13&&p.currentType!==1);const E=p.currentType===1?p.lastOffset:f.currentOffset(),W=p.currentType===1?p.lastEndLoc:f.currentPosition();return s(T,E,W),T}function P(f,p,v,_){const T=f.context();let N=_.items.length===0;const E=a(1,p,v);E.cases=[],E.cases.push(_);do{const W=w(f);N||(N=W.items.length===0),E.cases.push(W)}while(T.currentType!==13);return N&&r(f,F.MUST_HAVE_MESSAGES_IN_PLURAL,v,0),s(E,f.currentOffset(),f.currentPosition()),E}function S(f){const p=f.context(),{offset:v,startLoc:_}=p,T=w(f);return p.currentType===13?T:P(f,v,_,T)}function C(f){const p=ta(f,X({},e)),v=p.context(),_=a(0,v.offset,v.startLoc);return t&&_.loc&&(_.loc.source=f),_.body=S(p),e.onCacheKey&&(_.cacheKey=e.onCacheKey(f)),v.currentType!==13&&r(p,F.UNEXPECTED_LEXICAL_ANALYSIS,v.lastStartLoc,0,f[v.offset]||""),s(_,p.currentOffset(),p.currentPosition()),_}return{parse:C}}function se(e){if(e.type===13)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function oa(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function rn(e,t){for(let n=0;n<e.length;n++)it(e[n],t)}function it(e,t){switch(e.type){case 1:rn(e.cases,t),t.helper("plural");break;case 2:rn(e.items,t);break;case 6:{it(e.key,t),t.helper("linked"),t.helper("type");break}case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function la(e,t={}){const n=oa(e);n.helper("normalize"),e.body&&it(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function ca(e){const t=e.body;return t.type===2?an(t):t.cases.forEach(n=>an(n)),e}function an(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=lt(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function ve(e){switch(e.t=e.type,e.type){case 0:{const t=e;ve(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let r=0;r<n.length;r++)ve(n[r]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let r=0;r<n.length;r++)ve(n[r]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;ve(t.key),t.k=t.key,delete t.key,t.modifier&&(ve(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function ia(e,t){const{filename:n,breakLineCode:r,needIndent:a}=t,s=t.location!==!1,l={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:a,indentLevel:0};s&&e.loc&&(l.source=e.loc.source);const i=()=>l;function u(S,C){l.code+=S}function d(S,C=!0){const f=C?r:"";u(a?f+"  ".repeat(S):f)}function b(S=!0){const C=++l.indentLevel;S&&d(C)}function L(S=!0){const C=--l.indentLevel;S&&d(C)}function y(){d(l.indentLevel)}return{context:i,push:u,indent:b,deindent:L,newline:y,helper:S=>`_${S}`,needIndent:()=>l.needIndent}}function ua(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),Ie(e,t.key),t.modifier?(e.push(", "),Ie(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function fa(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const a=t.items.length;for(let s=0;s<a&&(Ie(e,t.items[s]),s!==a-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function ma(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const a=t.cases.length;for(let s=0;s<a&&(Ie(e,t.cases[s]),s!==a-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function da(e,t){t.body?Ie(e,t.body):e.push("null")}function Ie(e,t){const{helper:n}=e;switch(t.type){case 0:da(e,t);break;case 1:ma(e,t);break;case 2:fa(e,t);break;case 6:ua(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break}}const _a=(e,t={})=>{const n=k(t.mode)?t.mode:"normal",r=k(t.filename)?t.filename:"message.intl";t.sourceMap;const a=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,s=t.needIndent?t.needIndent:n!=="arrow",l=e.helpers||[],i=ia(e,{filename:r,breakLineCode:a,needIndent:s});i.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),i.indent(s),l.length>0&&(i.push(`const { ${lt(l.map(b=>`${b}: _${b}`),", ")} } = ctx`),i.newline()),i.push("return "),Ie(i,e),i.deindent(s),i.push("}"),delete e.helpers;const{code:u,map:d}=i.context();return{ast:e,code:u,map:d?d.toJSON():void 0}};function ha(e,t={}){const n=X({},t),r=!!n.jit,a=!!n.minify,s=n.optimize==null?!0:n.optimize,i=sa(n).parse(e);return r?(s&&ca(i),a&&ve(i),{ast:i,code:""}):(la(i,n),_a(i,n))}function pa(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ee().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ee().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function oe(e){return M(e)&&ut(e)===0&&(ne(e,"b")||ne(e,"body"))}const sn=["b","body"];function ga(e){return ge(e,sn)}const on=["c","cases"];function ba(e){return ge(e,on,[])}const ln=["s","static"];function Ea(e){return ge(e,ln)}const cn=["i","items"];function ya(e){return ge(e,cn,[])}const un=["t","type"];function ut(e){return ge(e,un)}const fn=["v","value"];function Ke(e,t){const n=ge(e,fn);if(n!=null)return n;throw Ce(t)}const mn=["m","modifier"];function La(e){return ge(e,mn)}const dn=["k","key"];function va(e){const t=ge(e,dn);if(t)return t;throw Ce(6)}function ge(e,t,n){for(let r=0;r<t.length;r++){const a=t[r];if(ne(e,a)&&e[a]!=null)return e[a]}return n}const _n=[...sn,...on,...ln,...cn,...dn,...mn,...fn,...un];function Ce(e){return new Error(`unhandled node type: ${e}`)}function ft(e){return n=>Ia(n,e)}function Ia(e,t){const n=ga(t);if(n==null)throw Ce(0);if(ut(n)===1){const s=ba(n);return e.plural(s.reduce((l,i)=>[...l,hn(e,i)],[]))}else return hn(e,n)}function hn(e,t){const n=Ea(t);if(n!=null)return e.type==="text"?n:e.normalize([n]);{const r=ya(t).reduce((a,s)=>[...a,mt(e,s)],[]);return e.normalize(r)}}function mt(e,t){const n=ut(t);switch(n){case 3:return Ke(t,n);case 9:return Ke(t,n);case 4:{const r=t;if(ne(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(ne(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw Ce(n)}case 5:{const r=t;if(ne(r,"i")&&K(r.i))return e.interpolate(e.list(r.i));if(ne(r,"index")&&K(r.index))return e.interpolate(e.list(r.index));throw Ce(n)}case 6:{const r=t,a=La(r),s=va(r);return e.linked(mt(e,s),a?mt(e,a):void 0,e.type)}case 7:return Ke(t,n);case 8:return Ke(t,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const ka=e=>e;let Xe=$();function Ta(e,t={}){let n=!1;const r=t.onError||Br;return t.onError=a=>{n=!0,r(a)},{...ha(e,t),detectError:n}}function Na(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&k(e)){D(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||ka)(e),a=Xe[r];if(a)return a;const{ast:s,detectError:l}=Ta(e,{...t,location:!1,jit:!0}),i=ft(s);return l?i:Xe[r]=i}else{const n=e.cacheKey;if(n){const r=Xe[n];return r||(Xe[n]=ft(e))}else return ft(e)}}let Pe=null;function Sa(e){Pe=e}function Oa(e,t,n){Pe&&Pe.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const wa=Ca("function:translate");function Ca(e){return t=>Pe&&Pe.emit(e,t)}const ue={INVALID_ARGUMENT:Xr,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},Pa=24;function fe(e){return Ye(e,null,void 0)}function dt(e,t){return t.locale!=null?pn(t.locale):pn(e.locale)}let _t;function pn(e){if(k(e))return e;if(x(e)){if(e.resolvedOnce&&_t!=null)return _t;if(e.constructor.name==="Function"){const t=e();if(Vr(t))throw fe(ue.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return _t=t}else throw fe(ue.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw fe(ue.NOT_SUPPORT_LOCALE_TYPE)}function Ra(e,t,n){return[...new Set([n,...H(t)?t:M(t)?Object.keys(t):k(t)?[t]:[n]])]}function gn(e,t,n){const r=k(n)?n:Re,a=e;a.__localeChainCache||(a.__localeChainCache=new Map);let s=a.__localeChainCache.get(r);if(!s){s=[];let l=[n];for(;H(l);)l=bn(s,l,t);const i=H(t)||!A(t)?t:t.default?t.default:null;l=k(i)?[i]:i,H(l)&&bn(s,l,!1),a.__localeChainCache.set(r,s)}return s}function bn(e,t,n){let r=!0;for(let a=0;a<t.length&&D(r);a++){const s=t[a];k(s)&&(r=Aa(e,t[a],n))}return r}function Aa(e,t,n){let r;const a=t.split("-");do{const s=a.join("-");r=Da(e,s,n),a.splice(-1,1)}while(a.length&&r===!0);return r}function Da(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const a=t.replace(/!/g,"");e.push(a),(H(n)||A(n))&&n[a]&&(r=n[a])}return r}const be=[];be[0]={w:[0],i:[3,0],"[":[4],o:[7]},be[1]={w:[1],".":[2],"[":[4],o:[7]},be[2]={w:[2],i:[3,0],0:[3,0]},be[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},be[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},be[5]={"'":[4,0],o:8,l:[5,0]},be[6]={'"':[4,0],o:8,l:[6,0]};const Ma=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Fa(e){return Ma.test(e)}function $a(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function Ua(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function xa(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:Fa(t)?$a(t):"*"+t}function Wa(e){const t=[];let n=-1,r=0,a=0,s,l,i,u,d,b,L;const y=[];y[0]=()=>{l===void 0?l=i:l+=i},y[1]=()=>{l!==void 0&&(t.push(l),l=void 0)},y[2]=()=>{y[0](),a++},y[3]=()=>{if(a>0)a--,r=4,y[0]();else{if(a=0,l===void 0||(l=xa(l),l===!1))return!1;y[1]()}};function w(){const P=e[n+1];if(r===5&&P==="'"||r===6&&P==='"')return n++,i="\\"+P,y[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&w())){if(u=Ua(s),L=be[r],d=L[u]||L.l||8,d===8||(r=d[0],d[1]!==void 0&&(b=y[d[1]],b&&(i=s,b()===!1))))return;if(r===7)return t}}const En=new Map;function ja(e,t){return M(e)?e[t]:null}function Ga(e,t){if(!M(e))return null;let n=En.get(t);if(n||(n=Wa(t),n&&En.set(t,n)),!n)return null;const r=n.length;let a=e,s=0;for(;s<r;){const l=n[s];if(_n.includes(l)&&oe(a))return null;const i=a[l];if(i===void 0||x(a))return null;a=i,s++}return a}const Ha="11.2.7",Be=-1,Re="en-US",yn="",Ln=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Va(){return{upper:(e,t)=>t==="text"&&k(e)?e.toUpperCase():t==="vnode"&&M(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&k(e)?e.toLowerCase():t==="vnode"&&M(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&k(e)?Ln(e):t==="vnode"&&M(e)&&"__v_isVNode"in e?Ln(e.children):e}}let vn;function Ya(e){vn=e}let In;function Ka(e){In=e}let kn;function Xa(e){kn=e}let Tn=null;const Ba=e=>{Tn=e},Ja=()=>Tn;let Nn=null;const Sn=e=>{Nn=e},qa=()=>Nn;let On=0;function Qa(e={}){const t=x(e.onWarn)?e.onWarn:$r,n=k(e.version)?e.version:Ha,r=k(e.locale)||x(e.locale)?e.locale:Re,a=x(r)?Re:r,s=H(e.fallbackLocale)||A(e.fallbackLocale)||k(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:a,l=A(e.messages)?e.messages:ht(a),i=A(e.datetimeFormats)?e.datetimeFormats:ht(a),u=A(e.numberFormats)?e.numberFormats:ht(a),d=X($(),e.modifiers,Va()),b=e.pluralRules||$(),L=x(e.missing)?e.missing:null,y=D(e.missingWarn)||Le(e.missingWarn)?e.missingWarn:!0,w=D(e.fallbackWarn)||Le(e.fallbackWarn)?e.fallbackWarn:!0,P=!!e.fallbackFormat,S=!!e.unresolving,C=x(e.postTranslation)?e.postTranslation:null,f=A(e.processor)?e.processor:null,p=D(e.warnHtmlMessage)?e.warnHtmlMessage:!0,v=!!e.escapeParameter,_=x(e.messageCompiler)?e.messageCompiler:vn,T=x(e.messageResolver)?e.messageResolver:In||ja,N=x(e.localeFallbacker)?e.localeFallbacker:kn||Ra,E=M(e.fallbackContext)?e.fallbackContext:void 0,W=e,G=M(W.__datetimeFormatters)?W.__datetimeFormatters:new Map,Z=M(W.__numberFormatters)?W.__numberFormatters:new Map,re=M(W.__meta)?W.__meta:{};On++;const V={version:n,cid:On,locale:r,fallbackLocale:s,messages:l,modifiers:d,pluralRules:b,missing:L,missingWarn:y,fallbackWarn:w,fallbackFormat:P,unresolving:S,postTranslation:C,processor:f,warnHtmlMessage:p,escapeParameter:v,messageCompiler:_,messageResolver:T,localeFallbacker:N,fallbackContext:E,onWarn:t,__meta:re};return V.datetimeFormats=i,V.numberFormats=u,V.__datetimeFormatters=G,V.__numberFormatters=Z,__INTLIFY_PROD_DEVTOOLS__&&Oa(V,n,re),V}const ht=e=>({[e]:$()});function pt(e,t,n,r,a){const{missing:s,onWarn:l}=e;if(s!==null){const i=s(e,n,t,a);return k(i)?i:t}else return t}function Ae(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function Za(e,t){return e===t?!1:e.split("-")[0]===t.split("-")[0]}function za(e,t){const n=t.indexOf(e);if(n===-1)return!1;for(let r=n+1;r<t.length;r++)if(Za(e,t[r]))return!0;return!1}function wn(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:a,onWarn:s,localeFallbacker:l}=e,{__datetimeFormatters:i}=e,[u,d,b,L]=gt(...t),y=D(b.missingWarn)?b.missingWarn:e.missingWarn;D(b.fallbackWarn)?b.fallbackWarn:e.fallbackWarn;const w=!!b.part,P=dt(e,b),S=l(e,a,P);if(!k(u)||u==="")return new Intl.DateTimeFormat(P,L).format(d);let C={},f,p=null;const v="datetime format";for(let N=0;N<S.length&&(f=S[N],C=n[f]||{},p=C[u],!A(p));N++)pt(e,u,f,y,v);if(!A(p)||!k(f))return r?Be:u;let _=`${f}__${u}`;Ge(L)||(_=`${_}__${JSON.stringify(L)}`);let T=i.get(_);return T||(T=new Intl.DateTimeFormat(f,X({},p,L)),i.set(_,T)),w?T.formatToParts(d):T.format(d)}const Cn=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function gt(...e){const[t,n,r,a]=e,s=$();let l=$(),i;if(k(t)){const u=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw fe(ue.INVALID_ISO_DATE_ARGUMENT);const d=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();i=new Date(d);try{i.toISOString()}catch{throw fe(ue.INVALID_ISO_DATE_ARGUMENT)}}else if(Wr(t)){if(isNaN(t.getTime()))throw fe(ue.INVALID_DATE_ARGUMENT);i=t}else if(K(t))i=t;else throw fe(ue.INVALID_ARGUMENT);return k(n)?s.key=n:A(n)&&Object.keys(n).forEach(u=>{Cn.includes(u)?l[u]=n[u]:s[u]=n[u]}),k(r)?s.locale=r:A(r)&&(l=r),A(a)&&(l=a),[s.key||"",i,s,l]}function Pn(e,t,n){const r=e;for(const a in n){const s=`${t}__${a}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function Rn(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:a,onWarn:s,localeFallbacker:l}=e,{__numberFormatters:i}=e,[u,d,b,L]=bt(...t),y=D(b.missingWarn)?b.missingWarn:e.missingWarn;D(b.fallbackWarn)?b.fallbackWarn:e.fallbackWarn;const w=!!b.part,P=dt(e,b),S=l(e,a,P);if(!k(u)||u==="")return new Intl.NumberFormat(P,L).format(d);let C={},f,p=null;const v="number format";for(let N=0;N<S.length&&(f=S[N],C=n[f]||{},p=C[u],!A(p));N++)pt(e,u,f,y,v);if(!A(p)||!k(f))return r?Be:u;let _=`${f}__${u}`;Ge(L)||(_=`${_}__${JSON.stringify(L)}`);let T=i.get(_);return T||(T=new Intl.NumberFormat(f,X({},p,L)),i.set(_,T)),w?T.formatToParts(d):T.format(d)}const An=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function bt(...e){const[t,n,r,a]=e,s=$();let l=$();if(!K(t))throw fe(ue.INVALID_ARGUMENT);const i=t;return k(n)?s.key=n:A(n)&&Object.keys(n).forEach(u=>{An.includes(u)?l[u]=n[u]:s[u]=n[u]}),k(r)?s.locale=r:A(r)&&(l=r),A(a)&&(l=a),[s.key||"",i,s,l]}function Dn(e,t,n){const r=e;for(const a in n){const s=`${t}__${a}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}const es=e=>e,ts=e=>"",ns="text",rs=e=>e.length===0?"":lt(e),as=Yr;function Mn(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function ss(e){const t=K(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(K(e.named.count)||K(e.named.n))?K(e.named.count)?e.named.count:K(e.named.n)?e.named.n:t:t}function os(e,t){t.count||(t.count=e),t.n||(t.n=e)}function ls(e={}){const t=e.locale,n=ss(e),r=M(e.pluralRules)&&k(t)&&x(e.pluralRules[t])?e.pluralRules[t]:Mn,a=M(e.pluralRules)&&k(t)&&x(e.pluralRules[t])?Mn:void 0,s=f=>f[r(n,f.length,a)],l=e.list||[],i=f=>l[f],u=e.named||$();K(e.pluralIndex)&&os(n,u);const d=f=>u[f];function b(f,p){const v=x(e.messages)?e.messages(f,!!p):M(e.messages)?e.messages[f]:!1;return v||(e.parent?e.parent.message(f):ts)}const L=f=>e.modifiers?e.modifiers[f]:es,y=A(e.processor)&&x(e.processor.normalize)?e.processor.normalize:rs,w=A(e.processor)&&x(e.processor.interpolate)?e.processor.interpolate:as,P=A(e.processor)&&k(e.processor.type)?e.processor.type:ns,C={list:i,named:d,plural:s,linked:(f,...p)=>{const[v,_]=p;let T="text",N="";p.length===1?M(v)?(N=v.modifier||N,T=v.type||T):k(v)&&(N=v||N):p.length===2&&(k(v)&&(N=v||N),k(_)&&(T=_||T));const E=b(f,!0)(C),W=T==="vnode"&&H(E)&&N?E[0]:E;return N?L(N)(W,T):W},message:b,type:P,interpolate:w,normalize:y,values:X($(),l,u)};return C}const Fn=()=>"",ee=e=>x(e);function $n(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:a,messageCompiler:s,fallbackLocale:l,messages:i}=e,[u,d]=Et(...t),b=D(d.missingWarn)?d.missingWarn:e.missingWarn,L=D(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,y=D(d.escapeParameter)?d.escapeParameter:e.escapeParameter,w=!!d.resolvedMessage,P=k(d.default)||D(d.default)?D(d.default)?s?u:()=>u:d.default:n?s?u:()=>u:null,S=n||P!=null&&(k(P)||x(P)),C=dt(e,d);y&&cs(d);let[f,p,v]=w?[u,C,i[C]||$()]:Un(e,u,C,l,L,b),_=f,T=u;if(!w&&!(k(_)||oe(_)||ee(_))&&S&&(_=P,T=_),!w&&(!(k(_)||oe(_)||ee(_))||!k(p)))return a?Be:u;let N=!1;const E=()=>{N=!0},W=ee(_)?_:xn(e,u,p,_,T,E);if(N)return _;const G=fs(e,p,v,d),Z=ls(G),re=is(e,W,Z);let V=r?r(re,u):re;if(y&&k(V)&&(V=Gr(V)),__INTLIFY_PROD_DEVTOOLS__){const Ne={timestamp:Date.now(),key:k(u)?u:ee(_)?_.key:"",locale:p||(ee(_)?_.locale:""),format:k(_)?_:ee(_)?_.source:"",message:V};Ne.meta=X({},e.__meta,Ja()||{}),wa(Ne)}return V}function cs(e){H(e.list)?e.list=e.list.map(t=>k(t)?zt(t):t):M(e.named)&&Object.keys(e.named).forEach(t=>{k(e.named[t])&&(e.named[t]=zt(e.named[t]))})}function Un(e,t,n,r,a,s){const{messages:l,onWarn:i,messageResolver:u,localeFallbacker:d}=e,b=d(e,r,n);let L=$(),y,w=null;const P="translate";for(let S=0;S<b.length&&(y=b[S],L=l[y]||$(),(w=u(L,t))===null&&(w=L[t]),!(k(w)||oe(w)||ee(w)));S++)if(!za(y,b)){const C=pt(e,t,y,s,P);C!==t&&(w=C)}return[w,y,L]}function xn(e,t,n,r,a,s){const{messageCompiler:l,warnHtmlMessage:i}=e;if(ee(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||t,d}if(l==null){const d=(()=>r);return d.locale=n,d.key=t,d}const u=l(r,us(e,n,a,r,i,s));return u.locale=n,u.key=t,u.source=r,u}function is(e,t,n){return t(n)}function Et(...e){const[t,n,r]=e,a=$();if(!k(t)&&!K(t)&&!ee(t)&&!oe(t))throw fe(ue.INVALID_ARGUMENT);const s=K(t)?String(t):(ee(t),t);return K(n)?a.plural=n:k(n)?a.default=n:A(n)&&!Ge(n)?a.named=n:H(n)&&(a.list=n),K(r)?a.plural=r:k(r)?a.default=r:A(r)&&X(a,r),[s,a]}function us(e,t,n,r,a,s){return{locale:t,key:n,warnHtmlMessage:a,onError:l=>{throw s&&s(l),l},onCacheKey:l=>Ur(t,n,l)}}function fs(e,t,n,r){const{modifiers:a,pluralRules:s,messageResolver:l,fallbackLocale:i,fallbackWarn:u,missingWarn:d,fallbackContext:b}=e,y={locale:t,modifiers:a,pluralRules:s,messages:(w,P)=>{let S=l(n,w);if(S==null&&(b||P)){const[,,C]=Un(b||e,w,t,i,u,d);S=l(C,w)}if(k(S)||oe(S)){let C=!1;const p=xn(e,w,t,S,w,()=>{C=!0});return C?Fn:p}else return ee(S)?S:Fn}};return e.processor&&(y.processor=e.processor),r.list&&(y.list=r.list),r.named&&(y.named=r.named),K(r.plural)&&(y.pluralIndex=r.plural),y}pa();const ms="11.2.7";function ds(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ee().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ee().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ee().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ee().__INTLIFY_PROD_DEVTOOLS__=!1)}const q={UNEXPECTED_RETURN_TYPE:Pa,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Q(e,...t){return Ye(e,null,void 0)}const yt=pe("__translateVNode"),Lt=pe("__datetimeParts"),vt=pe("__numberParts"),Wn=pe("__setPluralRules"),jn=pe("__injectWithOption"),It=pe("__dispose");function De(e){if(!M(e)||oe(e))return e;for(const t in e)if(ne(e,t))if(!t.includes("."))M(e[t])&&De(e[t]);else{const n=t.split("."),r=n.length-1;let a=e,s=!1;for(let l=0;l<r;l++){if(n[l]==="__proto__")throw new Error(`unsafe key: ${n[l]}`);if(n[l]in a||(a[n[l]]=$()),!M(a[n[l]])){s=!0;break}a=a[n[l]]}if(s||(oe(a)?_n.includes(n[r])||delete e[t]:(a[n[r]]=e[t],delete e[t])),!oe(a)){const l=a[n[r]];M(l)&&De(l)}}return e}function kt(e,t){const{messages:n,__i18n:r,messageResolver:a,flatJson:s}=t,l=A(n)?n:H(r)?$():{[e]:$()};if(H(r)&&r.forEach(i=>{if("locale"in i&&"resource"in i){const{locale:u,resource:d}=i;u?(l[u]=l[u]||$(),Ve(d,l[u])):Ve(d,l)}else k(i)&&Ve(JSON.parse(i),l)}),a==null&&s)for(const i in l)ne(l,i)&&De(l[i]);return l}function Gn(e){return e.type}function Hn(e,t,n){let r=M(t.messages)?t.messages:$();"__i18nGlobal"in n&&(r=kt(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const a=Object.keys(r);a.length&&a.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(M(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(l=>{e.mergeDateTimeFormat(l,t.datetimeFormats[l])})}if(M(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(l=>{e.mergeNumberFormat(l,t.numberFormats[l])})}}}function Vn(e){return I.createVNode(I.Text,null,e,0)}function Me(){const e="currentInstance";return e in he?he[e]:he.getCurrentInstance()}const Yn="__INTLIFY_META__",Kn=()=>[],_s=()=>!1;let Xn=0;function Bn(e){return((t,n,r,a)=>e(n,r,Me()||void 0,a))}const hs=()=>{const e=Me();let t=null;return e&&(t=Gn(e)[Yn])?{[Yn]:t}:null};function Tt(e={}){const{__root:t,__injectWithOption:n}=e,r=t===void 0,a=e.flatJson,s=je?I.ref:I.shallowRef;let l=D(e.inheritLocale)?e.inheritLocale:!0;const i=s(t&&l?t.locale.value:k(e.locale)?e.locale:Re),u=s(t&&l?t.fallbackLocale.value:k(e.fallbackLocale)||H(e.fallbackLocale)||A(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:i.value),d=s(kt(i.value,e)),b=s(A(e.datetimeFormats)?e.datetimeFormats:{[i.value]:{}}),L=s(A(e.numberFormats)?e.numberFormats:{[i.value]:{}});let y=t?t.missingWarn:D(e.missingWarn)||Le(e.missingWarn)?e.missingWarn:!0,w=t?t.fallbackWarn:D(e.fallbackWarn)||Le(e.fallbackWarn)?e.fallbackWarn:!0,P=t?t.fallbackRoot:D(e.fallbackRoot)?e.fallbackRoot:!0,S=!!e.fallbackFormat,C=x(e.missing)?e.missing:null,f=x(e.missing)?Bn(e.missing):null,p=x(e.postTranslation)?e.postTranslation:null,v=t?t.warnHtmlMessage:D(e.warnHtmlMessage)?e.warnHtmlMessage:!0,_=!!e.escapeParameter;const T=t?t.modifiers:A(e.modifiers)?e.modifiers:{};let N=e.pluralRules||t&&t.pluralRules,E;E=(()=>{r&&Sn(null);const m={version:ms,locale:i.value,fallbackLocale:u.value,messages:d.value,modifiers:T,pluralRules:N,missing:f===null?void 0:f,missingWarn:y,fallbackWarn:w,fallbackFormat:S,unresolving:!0,postTranslation:p===null?void 0:p,warnHtmlMessage:v,escapeParameter:_,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};m.datetimeFormats=b.value,m.numberFormats=L.value,m.__datetimeFormatters=A(E)?E.__datetimeFormatters:void 0,m.__numberFormatters=A(E)?E.__numberFormatters:void 0;const g=Qa(m);return r&&Sn(g),g})(),Ae(E,i.value,u.value);function G(){return[i.value,u.value,d.value,b.value,L.value]}const Z=I.computed({get:()=>i.value,set:m=>{E.locale=m,i.value=m}}),re=I.computed({get:()=>u.value,set:m=>{E.fallbackLocale=m,u.value=m,Ae(E,i.value,m)}}),V=I.computed(()=>d.value),Ne=I.computed(()=>b.value),Mt=I.computed(()=>L.value);function Ft(){return x(p)?p:null}function $t(m){p=m,E.postTranslation=m}function Ut(){return C}function xt(m){m!==null&&(f=Bn(m)),C=m,E.missing=f}const _e=(m,g,U,Y,ye,rt)=>{G();let we;try{__INTLIFY_PROD_DEVTOOLS__&&Ba(hs()),r||(E.fallbackContext=t?qa():void 0),we=m(E)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(E.fallbackContext=void 0)}if(U!=="translate exists"&&K(we)&&we===Be||U==="translate exists"&&!we){const[Zs,go]=g();return t&&P?Y(t):ye(Zs)}else{if(rt(we))return we;throw Q(q.UNEXPECTED_RETURN_TYPE)}};function ze(...m){return _e(g=>Reflect.apply($n,null,[g,...m]),()=>Et(...m),"translate",g=>Reflect.apply(g.t,g,[...m]),g=>g,g=>k(g))}function et(...m){const[g,U,Y]=m;if(Y&&!M(Y))throw Q(q.INVALID_ARGUMENT);return ze(g,U,X({resolvedMessage:!0},Y||{}))}function Wt(...m){return _e(g=>Reflect.apply(wn,null,[g,...m]),()=>gt(...m),"datetime format",g=>Reflect.apply(g.d,g,[...m]),()=>yn,g=>k(g)||H(g))}function jt(...m){return _e(g=>Reflect.apply(Rn,null,[g,...m]),()=>bt(...m),"number format",g=>Reflect.apply(g.n,g,[...m]),()=>yn,g=>k(g)||H(g))}function Gt(m){return m.map(g=>k(g)||K(g)||D(g)?Vn(String(g)):g)}const Ht={normalize:Gt,interpolate:m=>m,type:"vnode"};function Vt(...m){return _e(g=>{let U;const Y=g;try{Y.processor=Ht,U=Reflect.apply($n,null,[Y,...m])}finally{Y.processor=null}return U},()=>Et(...m),"translate",g=>g[yt](...m),g=>[Vn(g)],g=>H(g))}function tt(...m){return _e(g=>Reflect.apply(Rn,null,[g,...m]),()=>bt(...m),"number format",g=>g[vt](...m),Kn,g=>k(g)||H(g))}function Yt(...m){return _e(g=>Reflect.apply(wn,null,[g,...m]),()=>gt(...m),"datetime format",g=>g[Lt](...m),Kn,g=>k(g)||H(g))}function nt(m){N=m,E.pluralRules=N}function Kt(m,g){return _e(()=>{if(!m)return!1;const U=k(g)?g:i.value,Y=Se(U),ye=E.messageResolver(Y,m);return oe(ye)||ee(ye)||k(ye)},()=>[m],"translate exists",U=>Reflect.apply(U.te,U,[m,g]),_s,U=>D(U))}function Xt(m){let g=null;const U=gn(E,u.value,i.value);for(let Y=0;Y<U.length;Y++){const ye=d.value[U[Y]]||{},rt=E.messageResolver(ye,m);if(rt!=null){g=rt;break}}return g}function Fe(m){const g=Xt(m);return g??(t?t.tm(m)||{}:{})}function Se(m){return d.value[m]||{}}function Oe(m,g){if(a){const U={[m]:g};for(const Y in U)ne(U,Y)&&De(U[Y]);g=U[m]}d.value[m]=g,E.messages=d.value}function $e(m,g){d.value[m]=d.value[m]||{};const U={[m]:g};if(a)for(const Y in U)ne(U,Y)&&De(U[Y]);g=U[m],Ve(g,d.value[m]),E.messages=d.value}function Bt(m){return b.value[m]||{}}function o(m,g){b.value[m]=g,E.datetimeFormats=b.value,Pn(E,m,g)}function c(m,g){b.value[m]=X(b.value[m]||{},g),E.datetimeFormats=b.value,Pn(E,m,g)}function h(m){return L.value[m]||{}}function O(m,g){L.value[m]=g,E.numberFormats=L.value,Dn(E,m,g)}function j(m,g){L.value[m]=X(L.value[m]||{},g),E.numberFormats=L.value,Dn(E,m,g)}Xn++,t&&je&&(I.watch(t.locale,m=>{l&&(i.value=m,E.locale=m,Ae(E,i.value,u.value))}),I.watch(t.fallbackLocale,m=>{l&&(u.value=m,E.fallbackLocale=m,Ae(E,i.value,u.value))}));const R={id:Xn,locale:Z,fallbackLocale:re,get inheritLocale(){return l},set inheritLocale(m){l=m,m&&t&&(i.value=t.locale.value,u.value=t.fallbackLocale.value,Ae(E,i.value,u.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:V,get modifiers(){return T},get pluralRules(){return N||{}},get isGlobal(){return r},get missingWarn(){return y},set missingWarn(m){y=m,E.missingWarn=y},get fallbackWarn(){return w},set fallbackWarn(m){w=m,E.fallbackWarn=w},get fallbackRoot(){return P},set fallbackRoot(m){P=m},get fallbackFormat(){return S},set fallbackFormat(m){S=m,E.fallbackFormat=S},get warnHtmlMessage(){return v},set warnHtmlMessage(m){v=m,E.warnHtmlMessage=m},get escapeParameter(){return _},set escapeParameter(m){_=m,E.escapeParameter=m},t:ze,getLocaleMessage:Se,setLocaleMessage:Oe,mergeLocaleMessage:$e,getPostTranslationHandler:Ft,setPostTranslationHandler:$t,getMissingHandler:Ut,setMissingHandler:xt,[Wn]:nt};return R.datetimeFormats=Ne,R.numberFormats=Mt,R.rt=et,R.te=Kt,R.tm=Fe,R.d=Wt,R.n=jt,R.getDateTimeFormat=Bt,R.setDateTimeFormat=o,R.mergeDateTimeFormat=c,R.getNumberFormat=h,R.setNumberFormat=O,R.mergeNumberFormat=j,R[jn]=n,R[yt]=Vt,R[Lt]=Yt,R[vt]=tt,R}function ps(e){const t=k(e.locale)?e.locale:Re,n=k(e.fallbackLocale)||H(e.fallbackLocale)||A(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=x(e.missing)?e.missing:void 0,a=D(e.silentTranslationWarn)||Le(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=D(e.silentFallbackWarn)||Le(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,l=D(e.fallbackRoot)?e.fallbackRoot:!0,i=!!e.formatFallbackMessages,u=A(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,b=x(e.postTranslation)?e.postTranslation:void 0,L=k(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,y=!!e.escapeParameterHtml,w=D(e.sync)?e.sync:!0;let P=e.messages;if(A(e.sharedMessages)){const T=e.sharedMessages;P=Object.keys(T).reduce((E,W)=>{const G=E[W]||(E[W]={});return X(G,T[W]),E},P||{})}const{__i18n:S,__root:C,__injectWithOption:f}=e,p=e.datetimeFormats,v=e.numberFormats,_=e.flatJson;return{locale:t,fallbackLocale:n,messages:P,flatJson:_,datetimeFormats:p,numberFormats:v,missing:r,missingWarn:a,fallbackWarn:s,fallbackRoot:l,fallbackFormat:i,modifiers:u,pluralRules:d,postTranslation:b,warnHtmlMessage:L,escapeParameter:y,messageResolver:e.messageResolver,inheritLocale:w,__i18n:S,__root:C,__injectWithOption:f}}function Nt(e={}){const t=Tt(ps(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(a){t.locale.value=a},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(a){t.fallbackLocale.value=a},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(a){t.setMissingHandler(a)},get silentTranslationWarn(){return D(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(a){t.missingWarn=D(a)?!a:a},get silentFallbackWarn(){return D(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(a){t.fallbackWarn=D(a)?!a:a},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(a){t.fallbackFormat=a},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(a){t.setPostTranslationHandler(a)},get sync(){return t.inheritLocale},set sync(a){t.inheritLocale=a},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){t.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(a){t.escapeParameter=a},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...a){return Reflect.apply(t.t,t,[...a])},rt(...a){return Reflect.apply(t.rt,t,[...a])},te(a,s){return t.te(a,s)},tm(a){return t.tm(a)},getLocaleMessage(a){return t.getLocaleMessage(a)},setLocaleMessage(a,s){t.setLocaleMessage(a,s)},mergeLocaleMessage(a,s){t.mergeLocaleMessage(a,s)},d(...a){return Reflect.apply(t.d,t,[...a])},getDateTimeFormat(a){return t.getDateTimeFormat(a)},setDateTimeFormat(a,s){t.setDateTimeFormat(a,s)},mergeDateTimeFormat(a,s){t.mergeDateTimeFormat(a,s)},n(...a){return Reflect.apply(t.n,t,[...a])},getNumberFormat(a){return t.getNumberFormat(a)},setNumberFormat(a,s){t.setNumberFormat(a,s)},mergeNumberFormat(a,s){t.mergeNumberFormat(a,s)}};return r.__extender=n,r}function gs(e,t,n){return{beforeCreate(){const r=Me();if(!r)throw Q(q.UNEXPECTED_ERROR);const a=this.$options;if(a.i18n){const s=a.i18n;if(a.__i18n&&(s.__i18n=a.__i18n),s.__root=t,this===this.$root)this.$i18n=Jn(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=Nt(s);const l=this.$i18n;l.__extender&&(l.__disposer=l.__extender(this.$i18n))}}else if(a.__i18n)if(this===this.$root)this.$i18n=Jn(e,a);else{this.$i18n=Nt({__i18n:a.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;a.__i18nGlobal&&Hn(t,a,a),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$te=(s,l)=>this.$i18n.te(s,l),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Me();if(!r)throw Q(q.UNEXPECTED_ERROR);const a=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,a.__disposer&&(a.__disposer(),delete a.__disposer,delete a.__extender),n.__deleteInstance(r),delete this.$i18n}}}function Jn(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Wn](t.pluralizationRules||e.pluralizationRules);const n=kt(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const St={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function bs({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,a)=>[...r,...a.type===I.Fragment?a.children:[a]],[]):t.reduce((n,r)=>{const a=e[r];return a&&(n[r]=a()),n},$())}function qn(){return I.Fragment}const Qn=I.defineComponent({name:"i18n-t",props:X({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>K(e)||!isNaN(e)}},St),setup(e,t){const{slots:n,attrs:r}=t,a=e.i18n||Je({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(L=>L[0]!=="_"),l=$();e.locale&&(l.locale=e.locale),e.plural!==void 0&&(l.plural=k(e.plural)?+e.plural:e.plural);const i=bs(t,s),u=a[yt](e.keypath,i,l),d=X($(),r),b=k(e.tag)||M(e.tag)?e.tag:qn();return I.h(b,d,u)}}});function Es(e){return H(e)&&!k(e[0])}function Zn(e,t,n,r){const{slots:a,attrs:s}=t;return()=>{const l={part:!0};let i=$();e.locale&&(l.locale=e.locale),k(e.format)?l.key=e.format:M(e.format)&&(k(e.format.key)&&(l.key=e.format.key),i=Object.keys(e.format).reduce((y,w)=>n.includes(w)?X($(),y,{[w]:e.format[w]}):y,$()));const u=r(e.value,l,i);let d=[l.key];H(u)?d=u.map((y,w)=>{const P=a[y.type],S=P?P({[y.type]:y.value,index:w,parts:u}):[y.value];return Es(S)&&(S[0].key=`${y.type}-${w}`),S}):k(u)&&(d=[u]);const b=X($(),s),L=k(e.tag)||M(e.tag)?e.tag:qn();return I.h(L,b,d)}}const zn=I.defineComponent({name:"i18n-n",props:X({value:{type:Number,required:!0},format:{type:[String,Object]}},St),setup(e,t){const n=e.i18n||Je({useScope:e.scope,__useComponent:!0});return Zn(e,t,An,(...r)=>n[vt](...r))}});function ys(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Ls(e){const t=l=>{const{instance:i,value:u}=l;if(!i||!i.$)throw Q(q.UNEXPECTED_ERROR);const d=ys(e,i.$),b=er(u);return[Reflect.apply(d.t,d,[...tr(b)]),d]};return{created:(l,i)=>{const[u,d]=t(i);je&&e.global===d&&(l.__i18nWatcher=I.watch(d.locale,()=>{i.instance&&i.instance.$forceUpdate()})),l.__composer=d,l.textContent=u},unmounted:l=>{je&&l.__i18nWatcher&&(l.__i18nWatcher(),l.__i18nWatcher=void 0,delete l.__i18nWatcher),l.__composer&&(l.__composer=void 0,delete l.__composer)},beforeUpdate:(l,{value:i})=>{if(l.__composer){const u=l.__composer,d=er(i);l.textContent=Reflect.apply(u.t,u,[...tr(d)])}},getSSRProps:l=>{const[i]=t(l);return{textContent:i}}}}function er(e){if(k(e))return{path:e};if(A(e)){if(!("path"in e))throw Q(q.REQUIRED_VALUE,"path");return e}else throw Q(q.INVALID_VALUE)}function tr(e){const{path:t,locale:n,args:r,choice:a,plural:s}=e,l={},i=r||{};return k(n)&&(l.locale=n),K(a)&&(l.plural=a),K(s)&&(l.plural=s),[t,i,l]}function vs(e,t,...n){const r=A(n[0])?n[0]:{};(!D(r.globalInstall)||r.globalInstall)&&([Qn.name,"I18nT"].forEach(s=>e.component(s,Qn)),[zn.name,"I18nN"].forEach(s=>e.component(s,zn)),[rr.name,"I18nD"].forEach(s=>e.component(s,rr))),e.directive("t",Ls(t))}const Is=pe("global-vue-i18n");function ks(e={}){const t=__VUE_I18N_LEGACY_API__&&D(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=D(e.globalInjection)?e.globalInjection:!0,r=new Map,[a,s]=Ts(e,t),l=pe("");function i(L){return r.get(L)||null}function u(L,y){r.set(L,y)}function d(L){r.delete(L)}const b={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(L,...y){if(L.__VUE_I18N_SYMBOL__=l,L.provide(L.__VUE_I18N_SYMBOL__,b),A(y[0])){const S=y[0];b.__composerExtend=S.__composerExtend,b.__vueI18nExtend=S.__vueI18nExtend}let w=null;!t&&n&&(w=As(L,b.global)),__VUE_I18N_FULL_INSTALL__&&vs(L,b,...y),__VUE_I18N_LEGACY_API__&&t&&L.mixin(gs(s,s.__composer,b));const P=L.unmount;L.unmount=()=>{w&&w(),b.dispose(),P()}},get global(){return s},dispose(){a.stop()},__instances:r,__getInstance:i,__setInstance:u,__deleteInstance:d};return b}function Je(e={}){const t=Me();if(t==null)throw Q(q.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Q(q.NOT_INSTALLED);const n=Ns(t),r=Os(n),a=Gn(t),s=Ss(e,a);if(s==="global")return Hn(r,e,a),r;if(s==="parent"){let u=ws(n,t,e.__useComponent);return u==null&&(u=r),u}const l=n;let i=l.__getInstance(t);if(i==null){const u=X({},e);"__i18n"in a&&(u.__i18n=a.__i18n),r&&(u.__root=r),i=Tt(u),l.__composerExtend&&(i[It]=l.__composerExtend(i)),Ps(l,t,i),l.__setInstance(t,i)}return i}function Ts(e,t){const n=I.effectScope(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>Nt(e)):n.run(()=>Tt(e));if(r==null)throw Q(q.UNEXPECTED_ERROR);return[n,r]}function Ns(e){const t=I.inject(e.isCE?Is:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Q(e.isCE?q.NOT_INSTALLED_WITH_PROVIDE:q.UNEXPECTED_ERROR);return t}function Ss(e,t){return Ge(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function Os(e){return e.mode==="composition"?e.global:e.global.__composer}function ws(e,t,n=!1){let r=null;const a=t.root;let s=Cs(t,n);for(;s!=null;){const l=e;if(e.mode==="composition")r=l.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const i=l.__getInstance(s);i!=null&&(r=i.__composer,n&&r&&!r[jn]&&(r=null))}if(r!=null||a===s)break;s=s.parent}return r}function Cs(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function Ps(e,t,n){I.onMounted(()=>{},t),I.onUnmounted(()=>{const r=n;e.__deleteInstance(t);const a=r[It];a&&(a(),delete r[It])},t)}const Rs=["locale","fallbackLocale","availableLocales"],nr=["t","rt","d","n","tm","te"];function As(e,t){const n=Object.create(null);return Rs.forEach(a=>{const s=Object.getOwnPropertyDescriptor(t,a);if(!s)throw Q(q.UNEXPECTED_ERROR);const l=I.isRef(s.value)?{get(){return s.value.value},set(i){s.value.value=i}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,a,l)}),e.config.globalProperties.$i18n=n,nr.forEach(a=>{const s=Object.getOwnPropertyDescriptor(t,a);if(!s||!s.value)throw Q(q.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${a}`,s)}),()=>{delete e.config.globalProperties.$i18n,nr.forEach(a=>{delete e.config.globalProperties[`$${a}`]})}}const rr=I.defineComponent({name:"i18n-d",props:X({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},St),setup(e,t){const n=e.i18n||Je({useScope:e.scope,__useComponent:!0});return Zn(e,t,Cn,(...r)=>n[Lt](...r))}});if(ds(),Ya(Na),Ka(Ga),Xa(gn),__INTLIFY_PROD_DEVTOOLS__){const e=Ee();e.__INTLIFY__=!0,Sa(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const ar={button:{jump:"跳转到Kemono",loading:"加载中...",error:"发生了错误"},menu:{newtab:{true:"[✔] 在新标签页中打开",false:"[-] 在新标签页中打开",title:"跳转到Kemono时，是新建标签页打开Kemono页面，还是直接将当前标签页跳转到Kemono页面"},domain:{label:"Kemono域名: {domain}",title:"跳转到Kemono时，使用的网站地址",prompt:"请设置希望跳转的kemono域名："}}},Ds={button:{jump:"跳轉到Kemono",loading:"載入中...",error:"發生了錯誤"},menu:{newtab:{true:"[✔] 在新標籤頁中打開",false:"[-] 在新標籤頁中打開",title:"跳轉到Kemono時，是新增標籤頁打開Kemono頁面，還是直接將目前標籤頁跳轉到Kemono頁面"},domain:{label:"Kemono域名: {domain}",title:"跳轉到Kemono時，使用的網站地址",prompt:"請設定希望跳轉的kemono網域："}}},Ms={button:{jump:"Open in Kemono",loading:"loading...",error:"something went wrong"},menu:{newtab:{true:"[✔] Open in new tab",false:"[-] Open in new tab",title:"Open the Kemono page in a new tab or directly redirect the current tab to the Kemono page"},domain:{label:"Kemono domain: {domain}",title:"The website address used when redirecting to Kemono",prompt:"Please set the desired Kemono domain to redirect to:"}}},sr=ks({legacy:!1,locale:navigator.language,fallbackLocale:"en",messages:{zh:Ds,"zh-CN":ar,"zh-Hans":ar,en:Ms}}),te=new st({GM_addValueChangeListener:vr,GM_deleteValue:Ir,GM_getValue:kr,GM_listValues:Nr,GM_setValue:Or},{newtab:!0,domain:"kemono.cr"});let B=te.get("domain");te.watch("domain",(e,t,n,r)=>B=n||"kemono.cr");const Ot=(function(){const e=window.matchMedia("(prefers-color-scheme: dark)");return e.addEventListener("change",t=>Ot.value=t.matches),I.ref(e.matches)})();function fo(e){return e}const Fs={checker:{type:"endhost",value:"pixiv.net"},pages:{users:{checker:{type:"regpath",value:/^\/users\/\d+/},url(){const e=location.pathname.match(/^\/users\/(\d+)/)[1];return`https://${B}/fanbox/user/${e}`}},artworks:{checker:{type:"regpath",value:/^\/artworks\/\d+/},async url(){const e=location.pathname.match(/^\/artworks\/(\d+)/)[1],n=(await We({method:"GET",url:`https://www.pixiv.net/ajax/illust/${e}`})).body.userId;return`https://${B}/fanbox/user/${n}`}},novel:{checker:{type:"path",value:"/novel/show.php"},async url(){const e=Ar("id"),n=(await We({method:"GET",url:`https://www.pixiv.net/ajax/novel/${e}`})).body.userId;return`https://${B}/fanbox/user/${n}`}},series:{checker:{type:"regpath",value:/^\/novel\/series\/\d+$/},async url(){const e=location.pathname.match(/^\/novel\/series\/(\d+)$/)[1],n=(await We({method:"GET",url:`https://www.pixiv.net/ajax/novel/series/${e}`})).body.userId;return`https://${B}/fanbox/user/${n}`}}},theme:I.ref("light"),enter(){const e=document.querySelector("html"),t=()=>{this.theme.value=Object.hasOwn(e.dataset,"theme")?e.dataset.theme:null};(this.context.observer=new MutationObserver(t)).observe(e,{attributes:!0,attributeFilter:["data-theme"]}),t()},leave(){this.context.observer?.disconnect(),this.context.observer=null},context:{observer:null}},$s={checker:{type:"endhost",value:"fantia.jp"},pages:{fanclubs:{checker:{type:"regpath",value:/^\/fanclubs\/\d+\/?/},url(){const e=location.pathname.match(/^\/fanclubs\/(\d+)\/?/)[1];return`https://${B}/fantia/user/${e}`}},posts:{checker:{type:"regpath",value:/^\/posts\/\d+\/?/},async url(){const e=location.pathname.match(/^\/posts\/(\d+)\/?/)[1],t=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),r=(await We({method:"GET",url:`https://fantia.jp/api/v1/posts/${e}`,headers:{referer:location.href,"x-csrf-token":t,"x-requested-with":"XMLHttpRequest"}})).post.fanclub.id;return`https://${B}/fantia/user/${r}/post/${e}`}}},theme:I.ref("light")},Us={checker:{type:"reghost",value:/^(www\.)?subscribestar\.(com|adult)/},pages:{user:{mode:"and",checker:{type:"func",value:()=>location.pathname.length>1},url(){const e=location.pathname.substring(1).split("/",1)[0];return`https://${B}/subscribestar/user/${e}`}}},theme:I.ref(Ot.value?"dark":"light"),enter(){const e=document.querySelector("html"),t=()=>{this.theme.value=Object.hasOwn(e.dataset,"theme")?e.dataset.theme:Ot.value?"dark":"light"};(this.context.observer=new MutationObserver(t)).observe(e,{attributes:!0,attributeFilter:["data-theme"]}),t()},leave(){this.context.observer?.disconnect(),this.context.observer=null},context:{observer:null}},xs={checker:{type:"endhost",value:"dlsite.com"},pages:{makerid:{checker:{type:"regpath",value:/^\/home\/circle\/profile\/=\/maker_id\/RG\d+(\.html)?(\/|$)/},url(){const e=location.pathname.match(/^\/home\/circle\/profile\/=\/maker_id\/(RG\d+)(\.html)?(\/|$)/)[1];return`https://${B}/dlsite/user/${e}`}}},theme:I.ref("light")},Ws={checker:{type:"endhost",value:"fanbox.cc"},theme:I.ref("light"),pages:{posts:{mode:"or",checker:[{type:"regpath",value:/^(\/@[^\/]+)?\/posts\/(\d+)$/}],async url(){const e=or(),t=await lr(e),n=location.pathname.match(/^(\/@[^\/]+)?\/posts\/(\d+)$/)[2];return`https://${B}/fanbox/user/${t}/post/${n}`}},creator:{mode:"or",checker:[{type:"path",value:"/"},{type:"path",value:"/posts"},{type:"path",value:"/plans"},{type:"regpath",value:/^\/@[^\/]+\/((posts|plans)\/?)?/}],async url(){const e=or(),t=await lr(e);return`https://${B}/fanbox/user/${t}`}}}};function or(){return location.pathname.startsWith("/@")?location.pathname.substring(2,location.pathname.indexOf("/",1)):location.hostname.split(".",1)[0]}async function lr(e){return(await(await yr(`https://api.fanbox.cc/creator.get?creatorId=${e}`,{method:"GET",headers:{accept:"application/json, text/plain, */*"}})).json()).body.user.userId}const js={checker:{type:"endhost",value:"patreon.com"},pages:{post:{checker:{type:"regpath",value:/^\/posts\/[^\/\d]*\d+$/},url(){const e=document.querySelector("#__NEXT_DATA__");if(!e)throw new Error("#__NEXT_DATA__ not found");const n=JSON.parse(e.innerHTML).props.pageProps.bootstrapEnvelope.pageBootstrap,a=[...n.post?n.post.included:[],...n.campaign?n.campaign.included:[]].find(l=>l.type==="user")?.id;if(!a)throw new Error("cannot get patreon userID");const s=location.pathname.match(/^\/posts\/[^\/\d]*(\d+)$/)[1];return`https://${B}/patreon/user/${a}/post/${s}`}},general:{checker:{type:"func",value:()=>{const e=n=>!!document.querySelector(n),t=n=>e(`[data-tag="${n}"]`);return e("#__NEXT_DATA__")&&["creator-become-a-patron-button","creator-header-see-membership-options","collections-share-button"].some(n=>t(n))}},url(){const e=document.querySelector("#__NEXT_DATA__");if(!e)throw new Error("#__NEXT_DATA__ not found");const n=JSON.parse(e.innerHTML).props.pageProps.bootstrapEnvelope.pageBootstrap,a=[...n.post?n.post.included:[],...n.campaign?n.campaign.included:[]].find(s=>s.type==="user")?.id;if(!a)throw new Error("cannot get patreon userID");return`https://${B}/patreon/user/${a}`}}},theme:I.ref("light")},Gs={mode:"and",checker:[{type:"endhost",value:"boosty.to"},{type:"startpath",value:"/app/",invert:!0},{type:"path",value:"/",invert:!0}],pages:{post:{checker:{type:"regpath",value:/^\/[^\/]+\/posts\/[0-9a-f\-]+\/?$/},url(){const e=location.pathname.match(/^\/([^\/]+)\/posts\/([0-9a-f\-]+)\/?$/),t=e[1],n=e[2];return`https://${B}/boosty/user/${t}/post/${n}`}},general:{checker:{type:"switch",value:!0},url(){const e=location.pathname.substring(1).split("/",1)[0];return`https://${B}/boosty/user/${e}`}}},theme:I.ref("light")},cr=await at("body"),Hs={mode:"and",checker:[{type:"endhost",value:"gumroad.com"},{type:"host",value:"gumroad.com",invert:!0},{type:"host",value:"www.gumroad.com",invert:!0}],pages:{post:{checker:{type:"startpath",value:"/l/"},url(){const e=JSON.parse(document.querySelector('.js-react-on-rails-component[data-component-name="ProfileProductPage"]')?.innerHTML??"{}"),t=e?.creator_profile?.external_id,n=e?.product?.permalink;if((t??n??null)===null)throw ce.simple("Error","cannot get userID or postID"),new Error("gumroad.url: cannot get userID or postID");return`https://${B}/gumroad/user/${t}/post/${n}`}},general:{checker:{type:"switch",value:!0},url(){const e=JSON.parse(document.querySelector('.js-react-on-rails-component[data-component-name="Profile"]')?.innerHTML??"{}")?.creator_profile?.external_id??null;if(!e)throw ce.simple("Error","cannot get userID"),new Error("gumroad.url: cannot get userID");return`https://${B}/gumroad/user/${e}`}}},theme:I.ref("gumroad"),get themes(){const e=getComputedStyle(cr).color,t=getComputedStyle(cr).backgroundColor,n=e,r=ir(e,t,.05),a=ir(e,t,.2);return{gumroad:`
                .oik-root[data-theme="gumroad"] {
                    --color-text: ${n};      /* 前景色 */
                    --color-bg: ${r};        /* 深色背景 */
                    --color-border: ${a};    /* 边框色 */
                }
            `}}};function ir(e,t,n=.1){const r=a=>{const s=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([0-9.]+)\s*)?\)/i,l=a.match(s);if(!l)return{r:0,g:0,b:0,a:1};const i=Math.min(255,Math.max(0,parseInt(l[1],10))),u=Math.min(255,Math.max(0,parseInt(l[2],10))),d=Math.min(255,Math.max(0,parseInt(l[3],10))),b=l[4]?Math.min(1,Math.max(0,parseFloat(l[4]))):1;return{r:i,g:u,b:d,a:b}};try{const a=r(e),s=r(t),l=Math.round(s.r+(a.r-s.r)*n),i=Math.round(s.g+(a.g-s.g)*n),u=Math.round(s.b+(a.b-s.b)*n),d=parseFloat((s.a+(a.a-s.a)*n).toFixed(2));return`rgba(${l}, ${i}, ${u}, ${d})`}catch(a){return ce.simple("Error","颜色解析或计算失败，使用默认过渡色:"),ce.log("Error","raw","error",a),"rgba(240, 240, 240, 0.9)"}}const Vs=Object.freeze(Object.defineProperty({__proto__:null,boosty:Gs,dlsite:xs,fanbox:Ws,fantia:$s,gumroad:Hs,patreon:js,pixiv:Fs,subscribestar:Us},Symbol.toStringTag,{value:"Module"})),Ys=".oik-root{--color-text: #1a1a1a;--color-bg: #ffffff;--color-primary: #2563eb;--color-secondary: #f3f4f6;--color-border: #e5e7eb}";var wt;const Ct=e=>(wt=document.createElement("style"),wt.append(e),wt),Ks=Ct(Ys),Xs=Ct(".oik-root[data-theme=dark]{--color-text: #f9fafb;--color-bg: #1f1f1f;--color-primary: #60a5fa;--color-secondary: #1f2937;--color-border: #374151}"),Bs=Ct(".oik-root[data-theme=light]{--color-text: #1a1a1a;--color-bg: #ffffff;--color-primary: #2563eb;--color-secondary: #f3f4f6;--color-border: #e5e7eb}"),qe=new Fr,ur=()=>{window._oikStyles.forEach((t,n)=>qe.setStyle(`__imported[${n}]__`,t))};document.readyState==="loading"?Lr.call(document,"DOMContentLoaded",ur,{once:!0}):ur();const Pt=Object.entries({defaultTheme:Ks,dark:Xs,light:Bs}).reduce((e,[t,n])=>Object.assign(e,{[t]:n.innerHTML}),{});Object.entries(Pt).forEach(([e,t])=>Rt(e,t));function Rt(e,t){Pt[e]=t,qe.setStyle(`theme-${e}`,t)}function fr(e){delete Pt[e],qe.deleteStyle(`theme-${e}`)}const mr=()=>{for(const[e,t]of Object.entries(Vs))if(!(t.checker&&!Ue(t.checker,t.mode??"or"))){for(const[n,r]of Object.entries(t.pages))if(Ue(r.checker,r.mode??"or"))return{website:t,page:r,websiteName:e,pageName:n}}return{website:null,page:null,websiteName:"unknown",pageName:"unknown"}},Qe=mr(),Ze=I.ref(Qe.website),ke=I.ref(Qe.page),At=I.ref(Qe.websiteName),Dt=I.ref(Qe.pageName);ce.simple("Detail",`Initial location: ${At.value} / ${Dt.value}`);const dr=new Dr;dr.init(),dr.onUrlChange(()=>{const e=mr();Ze.value=e.website,ke.value=e.page,At.value=e.websiteName,Dt.value=e.pageName,ce.simple("Detail",`Updated location: ${At.value} / ${Dt.value}`)}),I.watch(Ze,(e,t)=>{const n=I.toRaw(t),r=I.toRaw(e);n?.leave?.(),r?.enter?.(),Object.hasOwn(n??{},"themes")&&Object.keys(n.themes).forEach(a=>fr(a)),Object.hasOwn(r??{},"themes")&&Object.entries(r.themes).forEach(([a,s])=>Rt(a,s))},{immediate:!0}),I.watch(ke,(e,t)=>{const n=I.toRaw(t),r=I.toRaw(e);n?.leave?.(),r?.enter?.(),Object.hasOwn(n??{},"themes")&&Object.keys(n.themes).forEach(a=>fr(a)),Object.hasOwn(r??{},"themes")&&Object.entries(r.themes).forEach(([a,s])=>Rt(a,s))},{immediate:!0});const Js=["data-theme"],qs=I.defineComponent({__name:"App",setup(e){const{t}=Je(),n=I.ref(!1),r=I.ref(!1),a=I.computed(()=>ke.value?.theme??Ze.value?.theme??!1);async function s(){if(n.value||!Ze.value||!ke.value)return;n.value=!0;let l;try{l=await Promise.resolve(ke.value.url()),r.value=!1}catch(i){ce.simple("Error","error while getting url"),ce.log("Error","raw","error",i),n.value=!1,r.value=!0;return}te.get("newtab")?Sr(l,{active:!0,insert:!0,setParent:!0}):location.assign(l),n.value=!1}return(l,i)=>(I.openBlock(),I.createElementBlock("div",{class:"oik-root","data-theme":a.value},[I.withDirectives(I.createElementVNode("div",{class:I.normalizeClass(["oik-jump-button",{"oik-disabled":n.value}]),onClick:s},I.toDisplayString(n.value?I.unref(t)("button.loading"):r.value?I.unref(t)("button.error"):I.unref(t)("button.jump")),3),[[I.vShow,I.unref(ke)]])],8,Js))}}),Qs=((e,t)=>{const n=e.__vccOpts||e;for(const[r,a]of t)n[r]=a;return n})(qs,[["__scopeId","data-v-f9e475ed"]]),Te=sr.global.t;I.createApp(Qs).use(sr).mount((()=>{const e=document.createElement("div"),t=e.attachShadow({mode:"open"}),n=document.createElement("div");return n.style.cssText="position: fixed; right: 0; bottom: 0; padding: 0; margin: 0; border: 0; z-index: 10000;",qe.applyTo(t),t.append(n),at("body").then(r=>r.append(e)),n})());let _r;const hr=()=>_r=qt(te.get("newtab")?Te("menu.newtab.true"):Te("menu.newtab.false"),()=>te.set("newtab",!te.get("newtab")),{id:_r,autoClose:!1,title:Te("menu.newtab.title")});hr(),te.watch("newtab",()=>hr());let pr;const gr=()=>pr=qt(Te("menu.domain.label",{domain:te.get("domain")}),()=>{const e=prompt(Te("menu.domain.prompt"),te.get("domain"));e===""?te.delete("domain"):e&&te.set("domain",e)},{id:pr,autoClose:!1,title:Te("menu.domain.title")});gr(),te.watch("domain",()=>gr())})(Vue);
